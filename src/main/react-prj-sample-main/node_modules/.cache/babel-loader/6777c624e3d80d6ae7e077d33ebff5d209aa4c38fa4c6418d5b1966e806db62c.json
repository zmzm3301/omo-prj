{"ast":null,"code":"import _slicedToArray from\"C:/Users/zmzm3/git/omo/omo-prj/src/main/react-prj-sample-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{FaBars,FaTimes}from\"react-icons/fa\";import{Link as LinkScroll}from\"react-scroll\";import{Link,useNavigate}from\"react-router-dom\";import{Dropdown}from\"react-bootstrap\";import{useSelector,useDispatch}from\"react-redux\";import axios from\"axios\";import{logout}from\"../stores/actions\";import KakaoLogin from\"./KakaoLogin\";import\"./Navbar.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),click=_useState2[0],setClick=_useState2[1];var handleClick=function handleClick(){return setClick(!click);};var userRole=useSelector(function(state){return state.userRole;});var closeMenu=function closeMenu(){return setClick(false);};var dispatch=useDispatch();var navigate=useNavigate();var users=useSelector(function(state){return state.user;});var isLogin=useSelector(function(state){return state.isLoggedIn;});var nickName=useSelector(function(state){return state.nickName;});// const [click, setClick] = useState(false);\n// const handleClick = () => setClick(!click);\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),kpersons=_useState4[0],setKPersons=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),kakaoNickName=_useState6[0],setNickName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),authority=_useState8[0],setAuthority=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isAdmin=_useState10[0],toggleAdmin=_useState10[1];// const closeMenu = () => setClick(false);\nuseEffect(function(){axios.get(\"kpersons\").then(function(res){setKPersons(res.data);});},[]);useEffect(function(){axios.get(\"/getCookie\").then(function(response){var arr=response.data.split(\" \");var kakaoNickName=arr[0];var authority=arr[2];console.log(\"nick: \",kakaoNickName);console.log(\"auth: \",authority);setAuthority(authority);setNickName(kakaoNickName);});},[kpersons]);useEffect(function(){if(authority===\"admin\"||authority===\"superAdmin\"){toggleAdmin(true);}},[kakaoNickName,kpersons,authority]);var onLogoutHandler=function onLogoutHandler(){localStorage.removeItem(\"accessToken\");axios.post('/logout',{}).then(function(res){return console.log(res);}).catch(function(error){return console.log(error);});dispatch(logout(users));navigate('/');};return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-visible bg-black header\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hamburger\",onClick:handleClick,children:click?/*#__PURE__*/_jsx(FaTimes,{size:30,style:{color:\"#ffffff\"}}):/*#__PURE__*/_jsx(FaBars,{size:30,style:{color:\"#ffffff\"}})}),/*#__PURE__*/_jsxs(\"ul\",{className:click?\"nav-menu active\":\"nav-menu\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/#robot\"// spy={true}\n// smooth={false}\n,offset:0,duration:500,onClick:closeMenu,children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(LinkScroll,{to:\"robot\",spy:true,smooth:false,offset:0,duration:500,onClick:closeMenu,children:\"Robot\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(LinkScroll,{to:\"about\",spy:true,smooth:false,offset:0,duration:500,onClick:closeMenu,children:\"About\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(LinkScroll,{to:\"gallery\",spy:true,smooth:false,offset:0,duration:500,onClick:closeMenu,children:\"Gallery\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(LinkScroll,{to:\"contact\",spy:true,smooth:false,offset:0,duration:500,onClick:closeMenu,children:\"Contact\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:closeMenu,children:\"Team\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/board\",onClick:closeMenu,children:\"Board\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5\"}),isLogin||kakaoNickName?/*#__PURE__*/_jsxs(Dropdown,{children:[/*#__PURE__*/_jsxs(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\",style:{height:\"2rem\",minHeight:\"1rem\"},className:\"font-bold text-white bg-green-600 border-0 shadow-md hover:bg-green-800\",children:[nickName,\" \",kakaoNickName]}),/*#__PURE__*/_jsxs(Dropdown.Menu,{className:\"border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/board/my\",className:\"text-sm\",children:\"\\uB0B4\\uAC00 \\uC4F4 \\uAE00\"}),/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/ChangeInfo\",className:\"text-sm\",children:\"\\uC815\\uBCF4 \\uBCC0\\uACBD\"}),userRole===\"ADMIN\"||isAdmin?/*#__PURE__*/_jsx(Dropdown.Item,{href:\"/adminuser\",className:\"text-sm\",children:\"\\uD68C\\uC6D0 \\uAD00\\uB9AC\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(Dropdown.Item,{children:/*#__PURE__*/_jsx(\"button\",{onClick:onLogoutHandler,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})})]})]}):/*#__PURE__*/_jsx(KakaoLogin,{})]})]})});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","FaBars","FaTimes","Link","LinkScroll","useNavigate","Dropdown","useSelector","useDispatch","axios","logout","KakaoLogin","Navbar","click","setClick","handleClick","userRole","state","closeMenu","dispatch","navigate","users","user","isLogin","isLoggedIn","nickName","kpersons","setKPersons","kakaoNickName","setNickName","authority","setAuthority","isAdmin","toggleAdmin","get","then","res","data","response","arr","split","console","log","onLogoutHandler","localStorage","removeItem","post","catch","error","color","height","minHeight"],"sources":["C:/Users/zmzm3/git/omo/omo-prj/src/main/react-prj-sample-main/src/components/NewNavBoard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { FaBars, FaTimes } from \"react-icons/fa\";\nimport { Link as LinkScroll } from \"react-scroll\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport { logout } from \"../stores/actions\";\nimport KakaoLogin from \"./KakaoLogin\";\n\nimport \"./Navbar.css\";\n\nconst Navbar = () => {\n  const [click, setClick] = useState(false);\n  const handleClick = () => setClick(!click);\n  const userRole = useSelector(state => state.userRole)\n  const closeMenu = () => setClick(false);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate()\n  const users = useSelector(state => state.user);\n  const isLogin = useSelector(state => state.isLoggedIn);\n  const nickName = useSelector(state => state.nickName);\n\n  // const [click, setClick] = useState(false);\n  // const handleClick = () => setClick(!click);\n  const [kpersons, setKPersons] = useState([])\n  const [kakaoNickName, setNickName] = useState(\"\")\n  const [authority, setAuthority] = useState(\"\")\n  const [isAdmin, toggleAdmin] = useState(false)\n\n  // const closeMenu = () => setClick(false);\n\n  useEffect(() => {\n    axios.get(\"kpersons\")\n    .then(res => {\n      setKPersons(res.data)\n    })\n  }, [])\n\n  useEffect(() => {\n    axios.get(\"/getCookie\").then(response => {\n      var arr = response.data.split(\" \")\n      const kakaoNickName = arr[0];\n      const authority = arr[2];\n      console.log(\"nick: \", kakaoNickName)\n      console.log(\"auth: \", authority)\n      setAuthority(authority)\n      setNickName(kakaoNickName)\n    })\n  }, [kpersons])\n\n  useEffect(() => {\n    if(authority === \"admin\" || authority===\"superAdmin\") {\n      toggleAdmin(true)\n    }\n  }, [kakaoNickName, kpersons, authority])\n\n\n  const onLogoutHandler = () => {\n    localStorage.removeItem(\"accessToken\");\n    axios.post('/logout', {}).then(res => console.log(res)).catch(error => console.log(error))\n    dispatch(logout(users))\n    navigate('/')\n  }\n\n  return (\n    <div className=\"overflow-visible bg-black header\">\n      <nav className=\"navbar\">\n        <div className=\"hamburger\" onClick={handleClick}>\n          {click ? (\n            <FaTimes size={30} style={{ color: \"#ffffff\" }} />\n          ) : (\n            <FaBars size={30} style={{ color: \"#ffffff\" }} />\n          )}\n        </div>\n        <ul className={click ? \"nav-menu active\" : \"nav-menu\"}>\n          <li className=\"nav-item\">\n            <Link\n              to=\"/#robot\"\n              // spy={true}\n              // smooth={false}\n              offset={0}\n              duration={500}\n              onClick={closeMenu}\n            >\n              Home\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <LinkScroll\n              to=\"robot\"\n              spy={true}\n              smooth={false}\n              offset={0}\n              duration={500}\n              onClick={closeMenu}\n            >\n              Robot\n            </LinkScroll>\n          </li>\n          <li className=\"nav-item\">\n            <LinkScroll\n              to=\"about\"\n              spy={true}\n              smooth={false}\n              offset={0}\n              duration={500}\n              onClick={closeMenu}\n            >\n              About\n            </LinkScroll>\n          </li>\n          <li className=\"nav-item\">\n            <LinkScroll\n              to=\"gallery\"\n              spy={true}\n              smooth={false}\n              offset={0}\n              duration={500}\n              onClick={closeMenu}\n            >\n              Gallery\n            </LinkScroll>\n          </li>\n          <li className=\"nav-item\">\n            <LinkScroll\n              to=\"contact\"\n              spy={true}\n              smooth={false}\n              offset={0}\n              duration={500}\n              onClick={closeMenu}\n            >\n              Contact\n            </LinkScroll>\n          </li>\n          <li className=\"nav-item\">\n            <Link to=\"/\" onClick={closeMenu}>\n              Team\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <a href=\"/board\" onClick={closeMenu}>\n              Board\n            </a>\n          </li>\n        </ul>\n        <ul>\n\n          <div className=\"w-5\"></div>\n          {isLogin || kakaoNickName ?\n          \n            <Dropdown>\n              <Dropdown.Toggle\n                variant=\"success\"\n                id=\"dropdown-basic\"\n                style={{ height: \"2rem\", minHeight: \"1rem\" }}\n                className=\"font-bold text-white bg-green-600 border-0 shadow-md hover:bg-green-800\"\n              >\n                {nickName} {kakaoNickName}\n              </Dropdown.Toggle>\n              <Dropdown.Menu className=\"border-0 shadow-sm\">\n\n                <Dropdown.Item href=\"/board/my\" className=\"text-sm\">\n                  내가 쓴 글\n                </Dropdown.Item>\n\n                <Dropdown.Item href=\"/ChangeInfo\" className=\"text-sm\">\n                  정보 변경\n                </Dropdown.Item>\n                {userRole === \"ADMIN\" || isAdmin ?\n                  <Dropdown.Item href=\"/adminuser\" className=\"text-sm\">\n                    회원 관리\n                  </Dropdown.Item>\n                  : <></>}\n                <Dropdown.Item>\n                  <button onClick={onLogoutHandler}>로그아웃</button>\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n            :\n            <KakaoLogin />\n          }\n          \n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}